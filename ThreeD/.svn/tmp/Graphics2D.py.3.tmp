import curses
import math

pixel = ' '

# TODO: Make an orange color using init_color
# TODO: color doesn't work with windows pdcurses =(
curses.init_pair(1, curses.COLOR_RED, curses.COLOR_YELLOW)
white = curses.color_pair(1)

# If you're using this library, we assume that you've called curses.start_color() first
def draw_line(screen, start, end):
    global pixel, white
<<<<<<< .mine
#    screen.addstr(8, 10, str(height) + " " + str(width))
    screen.addch(round(start[1]), round(start[0]), pixel, white)
=======
    start = legalize(screen, start)
    end = legalize(screen, end)
    screen.addch(start[1], start[0], pixel, white)
>>>>>>> .r17

    slope = (start[1] - end[1]) / (1.0 + start[0] - end[0])

    if (abs(start[0] - end[0]) > abs(start[1] - end[1])):
        if start[0] > end[0]:
            start, end = end, start
        y = start[1]
        for x in range(start[0], end[0]):
            
            screen.addstr(10, 10, str(round(y)) + " " + str(x) + " " + str(screen.getmaxyx()))
            screen.getch()
#            screen.addch(round(y), round(x), pixel, white)
            screen.addch(5, 5, pixel, white)
            y += slope
    else:
        if start[1] > end[1]:
            start, end = end, start
        x = start[0]
        for y in range(start[1], end[1]):
<<<<<<< .mine
            screen.addch(round(y), round(x), pixel, white)
=======
            screen.addch(y, math.ceil(x), pixel, white)
>>>>>>> .r17
            x += 1.0/slope
    screen.addch(round(end[1]), round(end[0]), pixel, white)


def draw_polygon(screen):
    pass

def legalize(screen, point):
    height, width = screen.getmaxyx()
    x = max(min(width, point[0]), 0)
    y = max(min(height, point[1]), 0)
    return x,y
